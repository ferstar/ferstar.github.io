<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.80.0"><meta name=theme-color content="#fff"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>啃一啃SICP | STAY REAL</title><link rel=stylesheet href=/css/meme.min.880bdec5d0270e7b7430707ef067fa5d698eb921eea78e91d1d0a445eef8a966.css><script src=/js/meme.min.efb82b285fa41423ad4ef082ccb92e3434e2d0603cab2490baca54e2b7bdc96e.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"></noscript><meta name=author content="ferstar"><meta name=description content="中文or原版? 中文翻译质量一般, 甚至有些练习题连题干都没翻译全, 所以建议慢慢啃原版 这……"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=mask-icon href=/icons/safari-pinned-tab.svg color=#2a6df4><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="STAY REAL"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="STAY REAL"><meta name=msapplication-starturl content="../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../icons/mstile-150x150.png"><link rel=manifest href=/manifest.json><link rel=canonical href=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","datePublished":"2017-08-25T13:13:00+08:00","dateModified":"2021-02-14T16:40:02+00:00","url":"https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/","headline":"啃一啃SICP","description":"中文or原版? 中文翻译质量一般, 甚至有些练习题连题干都没翻译全, 所以建议慢慢啃原版 这……","inLanguage":"zh-CN","articleSection":"post","wordCount":3994,"image":["https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png","https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/3ef5b133b00aef6adfb60e74d7f5a73a.png","https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/jpg/2017/9/43c93eba6fcc96cc9bc9212f1b1f333a.jpg"],"author":{"@type":"Person","description":"May the truth be without barriers","email":"zhangjianfei3@gmail.com","image":"https://blog.ferstar.org/icons/apple-touch-icon.png","url":"https://blog.ferstar.org/","name":"ferstar"},"license":"[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)","publisher":{"@type":"Organization","name":"STAY REAL","logo":{"@type":"ImageObject","url":"https://blog.ferstar.org/icons/apple-touch-icon.png"},"url":"https://blog.ferstar.org/"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://blog.ferstar.org/"}}</script><meta property="og:title" content="啃一啃SICP"><meta property="og:description" content="中文or原版? 中文翻译质量一般, 甚至有些练习题连题干都没翻译全, 所以建议慢慢啃原版 这……"><meta property="og:url" content="https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/"><meta property="og:site_name" content="STAY REAL"><meta property="og:locale" content="zh"><meta property="og:image" content="https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png"><meta property="og:type" content="article"><meta property="article:published_time" content="2017-08-25T13:13:00+08:00"><meta property="article:modified_time" content="2021-02-14T16:40:02+00:00"><meta property="article:section" content="post"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=/ class=brand>STAY REAL</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=/post/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon archive"><path d="M32 448c0 17.7 14.3 32 32 32h384c17.7.0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6.0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6.0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3.0 64v48c0 8.8 7.2 16 16 16h480c8.8.0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"/></svg><span class=menu-item-name>文章</span></a></li><li class=menu-item><a href=/tags/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon tags"><path d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"/></svg><span class=menu-item-name>标签</span></a></li><li class=menu-item><a id=theme-switcher href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-light"><path d="M193.2 104.5 242 7a18 18 0 0128 0l48.8 97.5 103.4-34.5a18 18 0 0119.8 19.8l-34.5 103.4 97.5 48.8a18 18 0 010 28l-97.5 48.8 34.5 103.4a18 18 0 01-19.8 19.8l-103.4-34.5-48.8 97.5a18 18 0 01-28 0l-48.8-97.5-103.4 34.5a18 18 0 01-19.8-19.8l34.5-103.4-97.5-48.8a18 18 0 010-28l97.5-48.8-34.5-103.4a18 18 0 0119.8-19.8zM256 128a128 128 0 10.01.0M256 160a96 96 0 10.01.0"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-dark"><path d="M27 412a256 256 0 10154-407a11.5 11.5 0 00-5 20a201.5 201.5 0 01-134 374a11.5 11.5 0 00-15 13"/></svg></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label><label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=justify data-type=post data-toc-num=true><h1 class="post-title p-name">啃一啃SICP</h1><div class=post-meta><time datetime=2017-08-25T13:13:00+08:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2017.8.25</time>
<span class="post-meta-item category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>&nbsp;<a href=/post/ class="category-link p-category">Post</a></span>
<span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;3994</span>
<span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;8&nbsp;分钟</span></div><nav class=contents><h2 id=contents class=contents-title>目录</h2><ol class=toc><li><a id=contents:中文or原版 href=#中文or原版>中文or原版?</a></li><li><a id=contents:配置sublime3 href=#配置sublime3>配置sublime3</a><ol><li><a id=contents:注册信息 href=#注册信息>注册信息</a></li><li><a id=contents:安装插件 href=#安装插件>安装插件</a></li><li><a id=contents:折腾scheme插件 href=#折腾scheme插件>折腾Scheme插件</a></li><li><a id=contents:repl-installation-in-sublime-text-3 href=#repl-installation-in-sublime-text-3>REPL installation in Sublime Text 3</a></li></ol></li><li><a id=contents:转向drracket href=#转向drracket>转向DrRacket</a><ol><li><a id=contents:lang-planet-neilsicp href=#lang-planet-neilsicp><code>#lang planet neil/sicp</code></a></li></ol></li><li><a id=contents:习题解答记录 href=#习题解答记录>习题解答记录</a><ol><li><a id=contents:11 href=#11>1.1</a></li><li><a id=contents:12 href=#12>1.2</a></li><li><a id=contents:13 href=#13>1.3</a></li><li><a id=contents:14 href=#14>1.4</a></li><li><a id=contents:15 href=#15>1.5</a></li><li><a id=contents:117-采用牛顿法求平方根 href=#117-采用牛顿法求平方根>1.1.7 采用牛顿法求平方根</a></li><li><a id=contents:16 href=#16>1.6</a></li><li><a id=contents:17 href=#17>1.7</a></li><li><a id=contents:18 href=#18>1.8</a></li><li><a id=contents:118-内部定义和块结构 href=#118-内部定义和块结构>1.1.8 内部定义和块结构</a></li><li><a id=contents:121-线性的递归和迭代 href=#121-线性的递归和迭代>1.2.1 线性的递归和迭代</a></li><li><a id=contents:19 href=#19>1.9</a></li><li><a id=contents:110 href=#110>1.10</a></li><li><a id=contents:122-树形递归 href=#122-树形递归>1.2.2 树形递归</a></li><li><a id=contents:换零钱方式的统计 href=#换零钱方式的统计>换零钱方式的统计</a></li><li><a id=contents:111 href=#111>1.11</a></li><li><a id=contents:112-帕斯卡三角形 href=#112-帕斯卡三角形>1.12 帕斯卡三角形</a></li><li><a id=contents:113-原题翻译有误-需要看英文原版 href=#113-原题翻译有误-需要看英文原版>1.13 原题翻译有误, 需要看英文原版</a></li><li><a id=contents:114-增长的阶 href=#114-增长的阶>1.14 增长的阶</a></li></ol></li></ol></nav><div class="post-body e-content"><h2 id=中文or原版><a href=#中文or原版 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:中文or原版 class=headings>中文or原版?</a></h2><p>中文翻译质量一般, 甚至有些练习题连题干都没翻译全, 所以建议慢慢啃原版</p><p>这个网站提供制作精美的电子书版本</p><p><a href=https://sicpebook.wordpress.com/ target=_blank rel=noopener>https://sicpebook.wordpress.com/</a></p><p>我在百度云存了一份, 方便你我他</p><blockquote><p>链接: <a href=https://pan.baidu.com/s/1geUJpRH target=_blank rel=noopener>https://pan.baidu.com/s/1geUJpRH</a> 密码: ebck</p></blockquote><p><strong>How to get Scheme</strong>: via <a href=http://www.gnu.org/software/mit-scheme/ target=_blank rel=noopener>http://www.gnu.org/software/mit-scheme/</a></p><p>MIT Scheme用着不是很爽, 于是有了下面的折腾</p><h2 id=配置sublime3><a href=#配置sublime3 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:配置sublime3 class=headings>配置sublime3</a></h2><p>via <a href=http://www.sublimetext.com/3 target=_blank rel=noopener>http://www.sublimetext.com/3</a></p><h3 id=注册信息><a href=#注册信息 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:注册信息 class=headings>注册信息</a></h3><blockquote><p>v3126、v3124、v3124、v3114、 v3103可用</p></blockquote><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>—– BEGIN LICENSE —–
Ryan Clark
Single User License
EA7E-812479
2158A7DE B690A7A3 8EC04710 006A5EEB
34E77CA3 9C82C81F 0DB6371B 79704E6F
93F36655 B031503A 03257CCC 01B20F60
D304FA8D B1B4F0AF 8A76C7BA 0FA94D55
56D46BCE 5237A341 CD837F30 4D60772D
349B1179 A996F826 90CDB73C 24D41245
FD032C30 AD5E7241 4EAA66ED 167D91FB
55896B16 EA125C81 F550AF6B A6820916
—— END LICENSE ——
</code></pre></td></tr></table></div></div></div><h3 id=安装插件><a href=#安装插件 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:安装插件 class=headings>安装插件</a></h3><p>按Ctrl+`调出console，输入</p><p><code>import urllib.request,os; pf = 'Package Control.sublime-package'; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), 'wb').write(urllib.request.urlopen( 'http://sublime.wbond.net/' + pf.replace(' ','%20')).read())</code></p><p>重启Sublime Text 3，如果在Perferences->package settings中看到package control这一项，则安装成功。按下Ctrl+Shift+P调出命令面板输入install 调出 Install Package 选项并回车，然后在列表中选中要安装的插件。</p><h3 id=折腾scheme插件><a href=#折腾scheme插件 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:折腾scheme插件 class=headings>折腾Scheme插件</a></h3><p>via <a href=https://notechsolution.github.io/2017/01/03/How-To-Config-SublimeREPL-for-Scheme/ target=_blank rel=noopener>How To Config SublimeREPL for Scheme</a></p><ol><li>Install LISP scheme interpreter - <a href=http://people.csail.mit.edu/jaffer/SCM.html target=_blank rel=noopener>SCM</a>. there are several interpreter for scheme - DrRacket, MIT-Scheme. but SCM may be the easist one to integrate with Sublime.</li><li>Add scm bin folder into your system path. e.g.<code>set PATH = %PATH%; C:\Program Files (x86)\scm\</code></li></ol><p>then verify it using command line</p><pre><code>C:\Users\Administrator&gt;scm
SCM version 5f2, Copyright (C) 1990-2006 Free Software Foundation.
SCM comes with ABSOLUTELY NO WARRANTY; for details type (terms).
This is free software, and you are welcome to redistribute it
under certain conditions; type (terms) for details.
;loading C:\Program Files (x86)\slib\require
;done loading C:\Program Files (x86)\slib\require.scm
;loading C:\Program Files (x86)\scm\Transcen
;done loading C:\Program Files (x86)\scm\Transcen.scm
</code></pre><h3 id=repl-installation-in-sublime-text-3><a href=#repl-installation-in-sublime-text-3 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:repl-installation-in-sublime-text-3 class=headings>REPL installation in Sublime Text 3</a></h3><ol><li><p>Open the package installation of Sublime Text, if not install yet, plz try Tools -> Install Package Control</p></li><li><p>Install Package “Scheme”</p></li><li><p>Install Package “SublimeREPL”</p></li><li><p>Then, open Preferences -> Browse Packages -> SublimeREPL -> config -> Scheme -> Main.sublime-menu, edit the section with the “id”: “repl_scheme” :</p><pre><code>&quot;windows&quot;: [&quot;scm&quot;, &quot;-f&quot;, &quot;$file_basename&quot;]}
</code></pre></li><li><p>Save and restart Sublime Text, choose the target file, Open Tools -> Build System, you may find “Scheme” is auto selected. if not, plz choose “Scheme”</p></li><li><p>Try build/run the file via Tools -> Build</p></li><li><p>If you meet error like <strong>“File Not Find”, [“gsi”,”-:d-“,”your-file-path”]</strong>, it may be caused that your configuration are override by Scheme package. then you may go to C:\Users\Adminstrator\AppData\Roaming\Sublime Text 3\Installed Packages, find the scheme package “Scheme.sublime-package”, unzip it and modify the startup command line in the file “Scheme.sublime-build”, change it to :</p></li></ol><pre><code>{
    &quot;cmd&quot;: [&quot;scm&quot;, &quot;-f&quot;, &quot;$file&quot;],
    &quot;file_regex&quot;: &quot;^[ ]*File \&quot;(...*?)\&quot;, line ([0-9]*)&quot;,
    &quot;selector&quot;: &quot;source.scheme&quot;
}
</code></pre><h2 id=转向drracket><a href=#转向drracket class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:转向drracket class=headings>转向DrRacket</a></h2><p><a href=http://www.neilvandyke.org/racket/sicp/ target=_blank rel=noopener>SICP Support for DrRacket</a></p><p>总结起来就两步:</p><ol><li><p>下载安装DrRacket</p></li><li><h3 id=lang-planet-neilsicp><a href=#lang-planet-neilsicp class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:lang-planet-neilsicp class=headings><code>#lang planet neil/sicp</code></a></h3></li></ol><p>然后就可以愉快的练习<code>SICP</code>了</p><h2 id=习题解答记录><a href=#习题解答记录 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:习题解答记录 class=headings>习题解答记录</a></h2><h3 id=11><a href=#11 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:11 class=headings>1.1</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=mi>10</span>
<span class=p>(</span><span class=nf>+</span> <span class=mi>5</span> <span class=mi>3</span> <span class=mi>4</span><span class=p>)</span>
<span class=p>(</span><span class=nf>-</span> <span class=mi>9</span> <span class=mi>1</span><span class=p>)</span>
<span class=p>(</span><span class=nf>/</span> <span class=mi>6</span> <span class=mi>2</span><span class=p>)</span>
<span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nf>*</span> <span class=mi>2</span> <span class=mi>4</span><span class=p>)</span> <span class=p>(</span><span class=nf>-</span> <span class=mi>4</span> <span class=mi>6</span><span class=p>))</span>
<span class=p>(</span><span class=nv>define</span> <span class=nv>a</span> <span class=mi>3</span><span class=p>)</span>
<span class=p>(</span><span class=nv>define</span> <span class=nv>b</span> <span class=p>(</span><span class=nf>+</span> <span class=nv>a</span> <span class=mi>1</span><span class=p>))</span>
<span class=p>(</span><span class=nf>+</span> <span class=nv>a</span> <span class=nv>b</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>))</span>
<span class=p>(</span><span class=nf>=</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span>
<span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>b</span> <span class=nv>a</span><span class=p>)</span> <span class=p>(</span><span class=nf>&lt;</span> <span class=nv>b</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)))</span>
<span class=nv>b</span>
<span class=nv>a</span><span class=p>)</span>
<span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>=</span> <span class=nv>a</span> <span class=mi>4</span><span class=p>)</span> <span class=mi>6</span><span class=p>)</span>
<span class=p>((</span><span class=nf>=</span> <span class=nv>b</span> <span class=mi>4</span><span class=p>)</span> <span class=p>(</span><span class=nf>+</span> <span class=mi>6</span> <span class=mi>7</span> <span class=nv>a</span><span class=p>))</span>
<span class=p>(</span><span class=nv>else</span> <span class=mi>25</span><span class=p>))</span>
<span class=p>(</span><span class=nf>+</span> <span class=mi>2</span> <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>b</span> <span class=nv>a</span><span class=p>)</span> <span class=nv>b</span> <span class=nv>a</span><span class=p>))</span>
<span class=p>(</span><span class=nf>*</span> <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>&gt;</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span> <span class=nv>a</span><span class=p>)</span>
<span class=p>((</span><span class=nf>&lt;</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span> <span class=nv>b</span><span class=p>)</span>
<span class=p>(</span><span class=nv>else</span> <span class=mi>-1</span><span class=p>))</span>
<span class=p>(</span><span class=nf>+</span> <span class=nv>a</span> <span class=mi>1</span><span class=p>))</span>
<span class=c1>;; 解释器依次输入即可</span>
</code></pre></td></tr></table></div></div></div><h3 id=12><a href=#12 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:12 class=headings>1.2</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>+</span> <span class=mi>5</span> <span class=mi>4</span>
         <span class=p>(</span><span class=nf>-</span> <span class=mi>2</span>
            <span class=p>(</span><span class=nf>-</span> <span class=mi>3</span>
               <span class=p>(</span><span class=nf>+</span> <span class=mi>6</span>
                  <span class=p>(</span><span class=nf>/</span> <span class=mi>4</span> <span class=mi>5</span><span class=p>)))))</span>
      <span class=p>(</span><span class=nf>*</span> <span class=mi>3</span> <span class=p>(</span><span class=nf>-</span> <span class=mi>6</span> <span class=mi>2</span><span class=p>)</span> <span class=p>(</span><span class=nf>-</span> <span class=mi>2</span> <span class=mi>7</span><span class=p>)</span>
<span class=c1>;; -246.66666666666667e-3 or -37/150</span>
</code></pre></td></tr></table></div></div></div><h3 id=13><a href=#13 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:13 class=headings>1.3</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>ex1.3</span> <span class=nv>x</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>)</span>
  <span class=p>(</span><span class=nv>sum</span> <span class=p>(</span><span class=nv>sqr</span> <span class=p>(</span><span class=nf>first</span> <span class=nv>x</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>))</span>
       <span class=p>(</span><span class=nv>sqr</span> <span class=p>(</span><span class=nf>second</span> <span class=nv>x</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>))))</span>

<span class=c1>;; max No.</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>first</span> <span class=nv>x</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>x</span> <span class=nv>z</span><span class=p>))</span> <span class=nv>x</span><span class=p>)</span>
        <span class=p>((</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>y</span> <span class=nv>x</span><span class=p>)</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>))</span> <span class=nv>y</span><span class=p>)</span>
        <span class=p>(</span><span class=nv>else</span> <span class=nv>z</span><span class=p>)))</span>

<span class=c1>;; second No.</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>second</span> <span class=nv>x</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nb>or</span> <span class=p>(</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&lt;=</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>x</span> <span class=nv>z</span><span class=p>))</span>
             <span class=p>(</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span> <span class=p>(</span><span class=nf>&lt;=</span> <span class=nv>x</span> <span class=nv>z</span><span class=p>)))</span> <span class=nv>x</span><span class=p>)</span>
        <span class=p>((</span><span class=nb>or</span> <span class=p>(</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&lt;=</span> <span class=nv>y</span> <span class=nv>x</span><span class=p>)</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>))</span>
             <span class=p>(</span><span class=nb>and</span> <span class=p>(</span><span class=nf>&gt;=</span> <span class=nv>y</span> <span class=nv>x</span><span class=p>)</span> <span class=p>(</span><span class=nf>&lt;=</span> <span class=nv>y</span> <span class=nv>z</span><span class=p>)))</span> <span class=nv>y</span><span class=p>)</span>
        <span class=p>(</span><span class=nv>else</span> <span class=nv>z</span><span class=p>)))</span>

<span class=c1>;; squares</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sqr</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>*</span> <span class=nv>x</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; sum</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sum</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>+</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>))</span>

<span class=c1>;; test</span>
<span class=p>(</span><span class=nv>ex1.3</span> <span class=mi>3</span> <span class=mi>4</span> <span class=mi>5</span><span class=p>)</span> <span class=mi>41</span>
</code></pre></td></tr></table></div></div></div><h3 id=14><a href=#14 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:14 class=headings>1.4</a></h3><p>高阶函数的例子:</p><p>在<code>if</code>判断部分, 根据<code>b</code>的值确定返回<code>+</code>还是<code>-</code>, 当<code>b > 0</code>时返回<code>+</code>, 其余返回<code>-</code>.</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>a-plus-abs-a-b</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span>
  <span class=p>((</span><span class=k>if</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>b</span> <span class=mi>0</span><span class=p>)</span> <span class=nf>+</span> <span class=nf>-</span><span class=p>)</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>))</span>
<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>a-plus-abs-a-b</span> <span class=mi>4</span> <span class=mi>1</span><span class=p>)</span>
<span class=mi>5</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>a-plus-abs-a-b</span> <span class=mi>4</span> <span class=mi>-1</span><span class=p>)</span>
<span class=mi>5</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>a-plus-abs-a-b</span> <span class=mi>4</span> <span class=mi>-4</span><span class=p>)</span>
<span class=mi>8</span>
</code></pre></td></tr></table></div></div></div><h3 id=15><a href=#15 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:15 class=headings>1.5</a></h3><ol><li>应用序: 先求值参数而后应用</li><li>正则序: 完全展开而后规约</li></ol><p><code>(define (p) (p))</code>中不论解释器使用何种求值方式, 调用<code>(p)</code>肯定进入无限循环, 函数<code>p</code>会不断调用自身</p><p>在应用序中所有被传入的实际参数都会被立即求值, 因此执行<code>(define (test x y) (if (= x 0) 0 y))</code>时, 实际参数<code>0</code>和<code>p</code>都会被立即求值, 而对<code>p</code>求值则会使采用应用序求值模式的解释器进入无限循环</p><p>不过在正则序中, 传入的实际参数只有在用到的时候才会被求值, 类似<code>Python</code>中的惰性求值, 所以运行<code>(test 0 (p)</code>时, <code>if</code>返回值为<code>#t</code>, 而这个值又作为<code>test</code>函数的值被返回, 即在正则序求值中, 调用<code>(p)</code>从始至终都没有被执行, 所以不会产生无限循环, 并且会正常返回<code>0</code>, 也就说明该解释器使用的是正则序求值模式</p><blockquote><p>形参和实参:</p><p>对于一个函数来说, 他接受的参数的局部名称被称为形式参数. 而电泳函数时传入的表达式, 被称为实际参数.</p><p>通常人们说的参数一般是指形参</p></blockquote><h3 id=117-采用牛顿法求平方根><a href=#117-采用牛顿法求平方根 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:117-采用牛顿法求平方根 class=headings>1.1.7 采用牛顿法求平方根</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 绝对值计算</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>abs</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>x</span> <span class=mi>0</span><span class=p>)</span> <span class=nv>x</span> <span class=p>(</span><span class=nf>-</span> <span class=mi>0</span> <span class=nv>x</span><span class=p>)))</span>

<span class=c1>;; 平均值计算</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>average</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>+</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span> <span class=mi>2</span><span class=p>))</span>

<span class=c1>;; 取猜测值 (y x / y) / 2</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nv>average</span> <span class=nv>guess</span> <span class=p>(</span><span class=nf>/</span> <span class=nv>x</span> <span class=nv>guess</span><span class=p>)))</span>

<span class=c1>;; 结果是否足够好?</span>
<span class=c1>;; 猜测值平方后误差小于 0.001 即可认为足够好, 返回真</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>&lt;</span> <span class=p>(</span><span class=nf>abs</span> <span class=p>(</span><span class=nf>-</span> <span class=p>(</span><span class=nv>square</span> <span class=nv>guess</span><span class=p>)</span> <span class=nv>x</span><span class=p>))</span> <span class=mf>0.001</span><span class=p>))</span>

<span class=c1>;; 求平方</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>square</span> <span class=nv>x</span><span class=p>)</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>x</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; 求平方根(迭代)</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
      <span class=nv>guess</span>
      <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span> <span class=nv>x</span><span class=p>)))</span>

<span class=c1>;; partial func(给定初始值为1.0)</span>
<span class=c1>;; MIT Scheme区分精确的整数和十进制数值, 两个整数的商是一个有理式而不是十进制数</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=mf>1.0</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>16</span><span class=p>)</span>
<span class=mf>4.000000636692939</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>128</span><span class=p>)</span>
<span class=mf>11.313708502161349</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>256</span><span class=p>)</span>
<span class=mf>16.00000352670594</span>
</code></pre></td></tr></table></div></div></div><h3 id=16><a href=#16 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:16 class=headings>1.6</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; Alyssa的new-if定义</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>new-if</span> <span class=nv>predicate</span> <span class=nv>then-clause</span> <span class=nv>else-clause</span><span class=p>)</span>
    <span class=p>(</span><span class=nb>cond</span> <span class=p>(</span><span class=nv>predicate</span> <span class=nv>then-clause</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>else</span> <span class=nv>else-clause</span><span class=p>)))</span>

<span class=c1>;; 重写求平方根过程</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
    <span class=p>(</span><span class=nv>new-if</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
            <span class=nv>guess</span>
            <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span> <span class=nv>x</span><span class=p>)))</span>

<span class=c1>;; 这里可能碰到如下错误</span>
<span class=c1>;; define-values: assignment disallowed; cannot re-define a constant constant: sqrt-iter</span>
<span class=c1>;; 解决方法 Choose Language --&gt; uncheck Enforce constant definitions.</span>
</code></pre></td></tr></table></div></div></div><p><img src=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png alt=微信截图_20170825141550></p><p>重写<code>sqrt</code>后运行会报错:</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>The evaluation thread is no longer running, so no evaluation can take place <span class=k>until</span> the next execution.

The program ran out of memory.
</code></pre></td></tr></table></div></div></div><p>出错原因就在新定义的<code>new-if</code>函数只是一个普通函数, 根据解释器使用的应用序求值规则, 每个函数的实际参数在传入的时候都会被求值, 所以调用<code>new-if</code>函数时, 不论条件是真是假, 两个分支都会执行求值, 所以很快会突破解释器最大递归深度, 报OOM错误</p><h3 id=17><a href=#17 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:17 class=headings>1.7</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 对于特别小的数, sqrt函数并不能计算出正确的答案, 对于特别大的数, sqrt会陷入死循环</span>

<span class=c1>;; 绝对值计算</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>abs</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>x</span> <span class=mi>0</span><span class=p>)</span> <span class=nv>x</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>x</span><span class=p>)))</span>

<span class=c1>;; 平均值计算</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>average</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>+</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span> <span class=mi>2</span><span class=p>))</span>

<span class=c1>;; 取猜测值 (y x / y) / 2</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nv>average</span> <span class=nv>guess</span> <span class=p>(</span><span class=nf>/</span> <span class=nv>x</span> <span class=nv>guess</span><span class=p>)))</span>

<span class=c1>;; 结果是否足够好?</span>
<span class=c1>;; 下次猜测值变化低于百分之一时认为足够好, 返回真</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>old</span> <span class=nv>new</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>&gt;</span> <span class=mf>0.01</span>
       <span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>abs</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>new</span> <span class=nv>old</span><span class=p>))</span> <span class=nv>old</span><span class=p>)))</span>

<span class=c1>;; 求平方</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>square</span> <span class=nv>x</span><span class=p>)</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>x</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; 求平方根(迭代)</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>guess</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>))</span>
      <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
      <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span> <span class=nv>x</span><span class=p>)))</span>

<span class=c1>;; partial func(给定初始值为1.0)</span>
<span class=c1>;; MIT Scheme区分精确的整数和十进制数值, 两个整数的商是一个有理式而不是十进制数</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=nv>x</span><span class=p>)</span>
  <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=mf>1.0</span> <span class=nv>x</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div><h3 id=18><a href=#18 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:18 class=headings>1.8</a></h3><p>只需要重写<code>improve</code>函数即可</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 其中guess相当于近似值公式中的y</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nf>/</span> <span class=nv>x</span> <span class=p>(</span><span class=nv>square</span> <span class=nv>guess</span><span class=p>))</span> <span class=p>(</span><span class=nf>*</span> <span class=mi>2</span> <span class=nv>guess</span><span class=p>))</span> <span class=mi>3</span><span class=p>))</span>

<span class=c1>;; 其他判断都不需要改, sqrt已经成了求立方根的函数</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>8</span><span class=p>)</span>
<span class=mf>2.000004911675504</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>27</span><span class=p>)</span>
<span class=mf>3.0000005410641766</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=p>(</span><span class=nf>*</span> <span class=mi>8</span> <span class=mi>8</span> <span class=mi>8</span><span class=p>))</span>
<span class=mf>8.0005181503155</span>
</code></pre></td></tr></table></div></div></div><h3 id=118-内部定义和块结构><a href=#118-内部定义和块结构 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:118-内部定义和块结构 class=headings>1.1.8 内部定义和块结构</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 过程抽象为黑盒操作</span>
<span class=c1>;; 外部调用只关心sqrt即可</span>
<span class=c1>;; 块结构思想</span>

<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=nv>x</span><span class=p>)</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>old</span> <span class=nv>new</span><span class=p>)</span>
      <span class=p>(</span><span class=nf>&gt;</span> <span class=mf>0.01</span>
         <span class=p>(</span><span class=nf>/</span> <span class=p>(</span><span class=nf>abs</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>new</span> <span class=nv>old</span><span class=p>))</span> <span class=nv>old</span><span class=p>)))</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
      <span class=p>(</span><span class=nv>average</span> <span class=nv>guess</span> <span class=p>(</span><span class=nf>/</span> <span class=nv>x</span> <span class=nv>guess</span><span class=p>)))</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
      <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nv>good-enough?</span> <span class=nv>guess</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>))</span>
          <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=p>(</span><span class=nv>improve</span> <span class=nv>guess</span> <span class=nv>x</span><span class=p>)</span> <span class=nv>x</span><span class=p>)))</span>
    <span class=p>(</span><span class=nv>sqrt-iter</span> <span class=mf>1.0</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nf>sqrt</span> <span class=mi>9</span><span class=p>)</span>
<span class=mf>3.00009155413138</span>
</code></pre></td></tr></table></div></div></div><h3 id=121-线性的递归和迭代><a href=#121-线性的递归和迭代 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:121-线性的递归和迭代 class=headings>1.2.1 线性的递归和迭代</a></h3><blockquote><p>若这个函数在<strong>尾</strong>位置调用本身（或是一个<strong>尾</strong>调用本身的其他函数等等），则称这种情况为<strong>尾递归</strong>，是<strong>递归</strong>的一种特殊情形。 <strong>尾</strong>调用不一定是<strong>递归</strong>调用，但是<strong>尾递归</strong>特别有用，也比较容易实现。 <strong>尾</strong>调用的重要性在于它可以不在调用栈上面添加一个新的堆栈帧——而是更新它，如同迭代一般。</p><p>via <a href="https://www.google.com.hk/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&uact=8&ved=0ahUKEwiW6Ivo8fHVAhUE2WMKHUXWDPUQFggoMAE&url=https%3A%2F%2Fzh.wikipedia.org%2Fzh-hans%2F%25E5%25B0%25BE%25E8%25B0%2583%25E7%2594%25A8&usg=AFQjCNF0r7nIoHwoQOH1yqSWtk-TDDSX1w" target=_blank rel=noopener>尾调用- 维基百科，自由的百科全书</a></p></blockquote><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 阶乘</span>
<span class=c1>;; fact(n) = n * fact(n - 1)</span>
<span class=c1>;; 线性递归过程</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>factorial</span> <span class=nv>x</span><span class=p>)</span>
    <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>x</span> <span class=mi>1</span><span class=p>)</span>
        <span class=mi>1</span>
        <span class=p>(</span><span class=nf>*</span> <span class=nv>x</span> <span class=p>(</span><span class=nv>factorial</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>x</span> <span class=mi>1</span><span class=p>)))))</span>

<span class=c1>;; 重构 1</span>
<span class=c1>;; fact(n) = 1 * 2 * 3 ... * (n - 1) * n</span>
<span class=c1>;; product &lt;-- counter * product</span>
<span class=c1>;; counter &lt;-- counter + 1</span>
<span class=c1>;; 线性迭代过程</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>factorial</span> <span class=nv>x</span><span class=p>)</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>fact-iter</span> <span class=nv>product</span> <span class=nv>counter</span> <span class=nv>max-count</span><span class=p>)</span>
      <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>&gt;</span> <span class=nv>counter</span> <span class=nv>max-count</span><span class=p>)</span>
          <span class=nv>product</span>
          <span class=p>(</span><span class=nv>fact-iter</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>counter</span> <span class=nv>product</span><span class=p>)</span>
                     <span class=p>(</span><span class=nf>+</span> <span class=nv>counter</span> <span class=mi>1</span><span class=p>)</span>
                     <span class=nv>max-count</span><span class=p>)))</span>
    <span class=p>(</span><span class=nv>fact-iter</span> <span class=mi>1</span> <span class=mi>1</span> <span class=nv>x</span><span class=p>))</span>

<span class=c1>;; 重构 2</span>
<span class=c1>;; fact(n) = n * (n - 1) * ... * 3 * 2 * 1</span>
<span class=c1>;; p初始值为1, 首次迭代保存n, 第二次迭代保存n * (n - 1), 直到n = 1, 此时p即n!</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>factorial</span> <span class=nv>n</span><span class=p>)</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>fact-iter</span> <span class=nv>p</span> <span class=nv>n</span><span class=p>)</span>
      <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>)</span>
          <span class=nv>p</span>
          <span class=p>(</span><span class=nv>fact-iter</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>p</span> <span class=nv>n</span><span class=p>)</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>))))</span>
    <span class=p>(</span><span class=nv>fact-iter</span> <span class=mi>1</span> <span class=nv>n</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div><h3 id=19><a href=#19 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:19 class=headings>1.9</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 线性递归过程</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>plus</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span>
    <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>a</span> <span class=mi>0</span><span class=p>)</span>
        <span class=nv>b</span>
        <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>plus</span> <span class=p>(</span><span class=nv>dec</span> <span class=nv>a</span><span class=p>)</span> <span class=nv>b</span><span class=p>))))</span>
<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>4</span> <span class=mi>5</span><span class=p>)</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>3</span> <span class=mi>5</span><span class=p>))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>2</span> <span class=mi>5</span><span class=p>)))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>1</span> <span class=mi>5</span><span class=p>))))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>0</span> <span class=mi>5</span><span class=p>)))))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=mi>5</span><span class=p>))))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=mi>6</span><span class=p>)))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=p>(</span><span class=nv>inc</span> <span class=mi>7</span><span class=p>))</span>
<span class=p>(</span><span class=nv>inc</span> <span class=mi>8</span><span class=p>)</span>
<span class=mi>9</span>
<span class=c1>;; 从计算过程明显可以看到伸展和收缩两个阶段, 且伸展阶段所需要的额外存储量和计算所需的步数都与参数a正相关</span>
<span class=c1>;; 是一个线性递归计算过程(recursive)</span>

<span class=c1>;; 线性迭代过程</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>plus</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span>
    <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>a</span> <span class=mi>0</span><span class=p>)</span>
        <span class=nv>b</span>
        <span class=p>(</span><span class=nv>plus</span> <span class=p>(</span><span class=nv>dec</span> <span class=nv>a</span><span class=p>)</span> <span class=p>(</span><span class=nv>inc</span> <span class=nv>b</span><span class=p>))))</span>

<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>plus</span> <span class=mi>4</span> <span class=mi>5</span><span class=p>)</span>
<span class=p>(</span><span class=nv>plus</span> <span class=mi>3</span> <span class=mi>6</span><span class=p>)</span>
<span class=p>(</span><span class=nv>plus</span> <span class=mi>2</span> <span class=mi>7</span><span class=p>)</span>
<span class=p>(</span><span class=nv>plus</span> <span class=mi>1</span> <span class=mi>8</span><span class=p>)</span>
<span class=p>(</span><span class=nv>plus</span> <span class=mi>0</span> <span class=mi>9</span><span class=p>)</span>
<span class=mi>9</span>
<span class=c1>;; 计算过程仅适用敞亮存储空间, 且计算步骤与参数a正相关, 说明是一个线性迭代计算过程(iterative)</span>
</code></pre></td></tr></table></div></div></div><h3 id=110><a href=#110 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:110 class=headings>1.10</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>A</span> <span class=nv>x</span> <span class=nv>y</span><span class=p>)</span>
    <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>=</span> <span class=nv>y</span> <span class=mi>0</span><span class=p>)</span> <span class=mi>0</span><span class=p>)</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>x</span> <span class=mi>0</span><span class=p>)</span> <span class=p>(</span><span class=nf>*</span> <span class=mi>2</span> <span class=nv>y</span><span class=p>))</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>y</span> <span class=mi>1</span><span class=p>)</span> <span class=mi>2</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>else</span> <span class=p>(</span><span class=nv>A</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>x</span> <span class=mi>1</span><span class=p>)</span> <span class=p>(</span><span class=nv>A</span> <span class=nv>x</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>y</span> <span class=mi>1</span><span class=p>))))))</span>
</code></pre></td></tr></table></div></div></div><p>见 <a href=http://sicp.readthedocs.io/en/latest/chp1/10.html target=_blank rel=noopener>http://sicp.readthedocs.io/en/latest/chp1/10.html</a></p><h3 id=122-树形递归><a href=#122-树形递归 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:122-树形递归 class=headings>1.2.2 树形递归</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 斐波那契数列</span>
<span class=c1>;; 树形递归</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>fib</span> <span class=nv>n</span><span class=p>)</span>
    <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>0</span><span class=p>)</span> <span class=mi>0</span><span class=p>)</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>)</span> <span class=mi>1</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>else</span> <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nv>fib</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>))</span>
                   <span class=p>(</span><span class=nv>fib</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>2</span><span class=p>))))))</span>

<span class=c1>;; 线性迭代</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>fib</span> <span class=nv>n</span><span class=p>)</span>
    <span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>fib-iter</span> <span class=nv>a</span> <span class=nv>b</span> <span class=nf>count</span><span class=p>)</span>
      <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>=</span> <span class=nf>count</span> <span class=mi>0</span><span class=p>)</span>
          <span class=nv>a</span>
          <span class=p>(</span><span class=nv>fib-iter</span> <span class=p>(</span><span class=nf>+</span> <span class=nv>a</span> <span class=nv>b</span><span class=p>)</span> <span class=nv>a</span> <span class=p>(</span><span class=nf>-</span> <span class=nf>count</span> <span class=mi>1</span><span class=p>))))</span>
    <span class=p>(</span><span class=nv>fib-iter</span> <span class=mi>0</span> <span class=mi>1</span> <span class=nv>n</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div><h3 id=换零钱方式的统计><a href=#换零钱方式的统计 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:换零钱方式的统计 class=headings>换零钱方式的统计</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 兑换零钱方法</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>count-change</span> <span class=nv>amount</span><span class=p>)</span> <span class=p>(</span><span class=nv>cc</span> <span class=nv>amount</span> <span class=mi>5</span><span class=p>))</span>

<span class=c1>;; 可用的硬币种数作为输入, 返回第一种硬币币值(从大到小排列)</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>first-denomination</span> <span class=nv>kinds-of-coins</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>1</span><span class=p>)</span> <span class=mi>1</span><span class=p>)</span>
        <span class=p>((</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>2</span><span class=p>)</span> <span class=mi>5</span><span class=p>)</span>
        <span class=p>((</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>3</span><span class=p>)</span> <span class=mi>10</span><span class=p>)</span>
        <span class=p>((</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>4</span><span class=p>)</span> <span class=mi>25</span><span class=p>)</span>
        <span class=p>((</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>5</span><span class=p>)</span> <span class=mi>50</span><span class=p>)))</span>

<span class=c1>;; 计算</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>cc</span> <span class=nv>amount</span> <span class=nv>kinds-of-coins</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>=</span> <span class=nv>amount</span> <span class=mi>0</span><span class=p>)</span> <span class=mi>1</span><span class=p>)</span>
        <span class=p>((</span><span class=nb>or</span> <span class=p>(</span><span class=nf>&lt;</span> <span class=nv>amount</span> <span class=mi>0</span><span class=p>)</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>kinds-of-coins</span> <span class=mi>0</span><span class=p>))</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>(</span><span class=nv>else</span> <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nv>cc</span> <span class=nv>amount</span>
                     <span class=p>(</span><span class=nf>-</span> <span class=nv>kinds-of-coins</span> <span class=mi>1</span><span class=p>))</span>
                 <span class=p>(</span><span class=nv>cc</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>amount</span>
                        <span class=p>(</span><span class=nv>first-denomination</span> <span class=nv>kinds-of-coins</span><span class=p>))</span>
                     <span class=nv>kinds-of-coins</span><span class=p>)))))</span>

<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>count-change</span> <span class=mi>100</span><span class=p>)</span>
<span class=mi>292</span>
</code></pre></td></tr></table></div></div></div><h3 id=111><a href=#111 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:111 class=headings>1.11</a></h3><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=c1>;; 线性递归</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>f</span> <span class=nv>n</span><span class=p>)</span>
  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>&lt;</span> <span class=nv>n</span> <span class=mi>3</span><span class=p>)</span>
      <span class=nv>n</span>
      <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nv>f</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>))</span>
         <span class=p>(</span><span class=nv>f</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>2</span><span class=p>))</span>
         <span class=p>(</span><span class=nv>f</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>3</span><span class=p>)))))</span>

<span class=c1>;; 线性迭代</span>
<span class=c1>;; 初始条件: f(0) = 0, f(1) = 1, f(2) = 2</span>
<span class=c1>;; i = (n - 1): f(n - 3) = a, f(n - 2) = b, f(n - 1) = c</span>
<span class=c1>;; i = n:       f(n - 2) = b, f(n - 1) = c, f(n) = 3a + 2b + c</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>f</span> <span class=nv>n</span><span class=p>)</span> <span class=p>(</span><span class=nv>f-iter</span> <span class=mi>0</span> <span class=mi>1</span> <span class=mi>2</span> <span class=nv>n</span><span class=p>))</span>
<span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>f-iter</span> <span class=nv>a</span> <span class=nv>b</span> <span class=nv>c</span> <span class=nv>n</span><span class=p>)</span>
    <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>&lt;</span> <span class=nv>n</span> <span class=mi>0</span><span class=p>)</span> <span class=nv>n</span><span class=p>)</span>  <span class=c1>; 负数</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>0</span><span class=p>)</span> <span class=nv>a</span><span class=p>)</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>)</span> <span class=nv>b</span><span class=p>)</span>
          <span class=p>((</span><span class=nf>=</span> <span class=nv>n</span> <span class=mi>2</span><span class=p>)</span> <span class=nv>c</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>else</span> <span class=p>(</span><span class=nv>f-iter</span> <span class=nv>b</span>
                        <span class=nv>c</span>
                        <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>a</span> <span class=mi>3</span><span class=p>)</span> <span class=p>(</span><span class=nf>*</span> <span class=nv>b</span> <span class=mi>2</span><span class=p>)</span> <span class=nv>c</span><span class=p>)</span>
                        <span class=p>(</span><span class=nf>-</span> <span class=nv>n</span> <span class=mi>1</span><span class=p>)))))</span>

<span class=c1>;; test</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>-1</span><span class=p>)</span>
<span class=mi>-1</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>0</span><span class=p>)</span>
<span class=mi>0</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>1</span><span class=p>)</span>
<span class=mi>1</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>2</span><span class=p>)</span>
<span class=mi>2</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>3</span><span class=p>)</span>
<span class=mi>4</span>
<span class=nf>&gt;</span> <span class=p>(</span><span class=nv>f</span> <span class=mi>100</span><span class=p>)</span>  <span class=c1>; 线性递归会卡死</span>
<span class=mi>11937765839880230562825561449279733086</span>
</code></pre></td></tr></table></div></div></div><h3 id=112-帕斯卡三角形><a href=#112-帕斯卡三角形 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:112-帕斯卡三角形 class=headings>1.12 帕斯卡三角形</a></h3><p>中文版翻译有误, 应该是给出帕斯卡三角形任意元素的计算方法</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-shell data-lang=shell>row:
<span class=m>0</span>        <span class=m>1</span>
<span class=m>1</span>       <span class=m>1</span> <span class=m>1</span>
<span class=m>2</span>      <span class=m>1</span> <span class=m>2</span> <span class=m>1</span>
<span class=m>3</span>     <span class=m>1</span> <span class=m>3</span> <span class=m>3</span> <span class=m>1</span>
<span class=m>4</span>    <span class=m>1</span> <span class=m>4</span> <span class=m>6</span> <span class=m>4</span> <span class=m>1</span>
<span class=m>5</span>   . . . . . .
col: <span class=m>0</span> <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</code></pre></td></tr></table></div></div></div><p>如果使用p(r, c)来代表r行c列上元素的值, 可以得出三个性质:</p><ol><li>p(r, c) = p(r - 1, c - 1) + p(r -1, c) 即每个元素的值都由左上和右上元素的和组成</li><li>p(r, 0) or p(x, x) = 1 即最左边元素(c = 0)或最右边元素(r = c)值为1</li><li>列数不能多于行数</li></ol><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-lisp data-lang=lisp><span class=p>(</span><span class=nv>define</span> <span class=p>(</span><span class=nv>pascal</span> <span class=nv>row</span> <span class=nv>col</span><span class=p>)</span>
    <span class=p>(</span><span class=nb>cond</span> <span class=p>((</span><span class=nf>&lt;</span> <span class=nv>row</span> <span class=nv>col</span><span class=p>)</span> <span class=p>(</span><span class=nv>display</span> <span class=s>&#34;invalid row col values&#34;</span><span class=p>))</span>
          <span class=p>((</span><span class=nb>or</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>col</span> <span class=mi>0</span><span class=p>)</span> <span class=p>(</span><span class=nf>=</span> <span class=nv>row</span> <span class=nv>col</span><span class=p>))</span> <span class=mi>1</span><span class=p>)</span>
          <span class=p>(</span><span class=nv>else</span> <span class=p>(</span><span class=nf>+</span> <span class=p>(</span><span class=nv>pascal</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>row</span> <span class=mi>1</span><span class=p>)</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>col</span> <span class=mi>1</span><span class=p>))</span>
                   <span class=p>(</span><span class=nv>pascal</span> <span class=p>(</span><span class=nf>-</span> <span class=nv>row</span> <span class=mi>1</span><span class=p>)</span> <span class=nv>col</span><span class=p>)))))</span>
</code></pre></td></tr></table></div></div></div><h3 id=113-原题翻译有误-需要看英文原版><a href=#113-原题翻译有误-需要看英文原版 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:113-原题翻译有误-需要看英文原版 class=headings>1.13 原题翻译有误, 需要看英文原版</a></h3><p><img src=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/3ef5b133b00aef6adfb60e74d7f5a73a.png alt=微信截图_20170827172527></p><p>这个原题翻译有问题, 需要看英文原版</p><h3 id=114-增长的阶><a href=#114-增长的阶 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:114-增长的阶 class=headings>1.14 增长的阶</a></h3><blockquote><p>绘制(count-change 11)在展开时的过程, 只手撸了部分...</p></blockquote><p><img src=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/jpg/2017/9/43c93eba6fcc96cc9bc9212f1b1f333a.jpg alt=微信图片_20170905114253></p></div><ul class=post-copyright><li class="copyright-item author"><span class=copyright-item-text>作者</span>：<a href=https://blog.ferstar.org/ class="p-author h-card" target=_blank rel=noopener>ferstar</a></li><li class="copyright-item link"><span class=copyright-item-text>链接</span>：<a href=/post/%E5%95%83%E4%B8%80%E5%95%83sicp/ target=_blank rel=noopener>https://blog.ferstar.org/post/啃一啃sicp/</a></li><li class="copyright-item license"><span class=copyright-item-text>许可</span>：<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a></li></ul></article><div class=post-share><div class=share-items><div class="share-item twitter"><a href="https://twitter.com/share?url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&text=%e5%95%83%e4%b8%80%e5%95%83SICP&hashtags=SICP,LISP,SCHEME,SUBLIME,&via=%25!s%28%3cnil%3e%29" title=分享到「Twitter」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon twitter-icon"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a></div><div class="share-item facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&hashtag=%23SICP" title=分享到「Facebook」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon facebook-icon"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14.0 55.52 4.84 55.52 4.84v61h-31.28c-30.8.0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></a></div><div class="share-item linkedin"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&title=%e5%95%83%e4%b8%80%e5%95%83SICP&summary=%e4%b8%ad%e6%96%87or%e5%8e%9f%e7%89%88?%20%e4%b8%ad%e6%96%87%e7%bf%bb%e8%af%91%e8%b4%a8%e9%87%8f%e4%b8%80%e8%88%ac,%20%e7%94%9a%e8%87%b3%e6%9c%89%e4%ba%9b%e7%bb%83%e4%b9%a0%e9%a2%98%e8%bf%9e%e9%a2%98%e5%b9%b2%e9%83%bd%e6%b2%a1%e7%bf%bb%e8%af%91%e5%85%a8,%20%e6%89%80%e4%bb%a5%e5%bb%ba%e8%ae%ae%e6%85%a2%e6%85%a2%e5%95%83%e5%8e%9f%e7%89%88%20%e8%bf%99%e2%80%a6%e2%80%a6&source=STAY%20REAL" title=分享到「LinkedIn」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon linkedin-icon"><path d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></a></div><div class="share-item telegram"><a href="https://t.me/share/url?url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&text=%e5%95%83%e4%b8%80%e5%95%83SICP" title=分享到「Telegram」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon telegram-icon"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg></a></div><div class="share-item weibo"><a href="https://service.weibo.com/share/share.php?&url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&title=%e5%95%83%e4%b8%80%e5%95%83SICP&pic=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png&searchPic=false" title=分享到「新浪微博」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon weibo-icon"><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7.0 395.3.0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg></a></div><div class="share-item douban"><a href="https://www.douban.com/share/service?href=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&name=%e5%95%83%e4%b8%80%e5%95%83SICP&text=%e4%b8%ad%e6%96%87or%e5%8e%9f%e7%89%88?%20%e4%b8%ad%e6%96%87%e7%bf%bb%e8%af%91%e8%b4%a8%e9%87%8f%e4%b8%80%e8%88%ac,%20%e7%94%9a%e8%87%b3%e6%9c%89%e4%ba%9b%e7%bb%83%e4%b9%a0%e9%a2%98%e8%bf%9e%e9%a2%98%e5%b9%b2%e9%83%bd%e6%b2%a1%e7%bf%bb%e8%af%91%e5%85%a8,%20%e6%89%80%e4%bb%a5%e5%bb%ba%e8%ae%ae%e6%85%a2%e6%85%a2%e5%95%83%e5%8e%9f%e7%89%88%20%e8%bf%99%e2%80%a6%e2%80%a6" title=分享到「豆瓣」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon douban-icon"><path d="M.643.92v2.412h22.714V.92H.643zm1.974 4.926v9.42h18.764v-9.42H2.617zm2.72 2.408H18.69v4.605H5.338V8.254zm1.657 7.412-2.512.938c1.037 1.461 1.87 2.825 2.512 4.091H0v2.385h24v-2.385h-6.678c.818-1.176 1.589-2.543 2.303-4.091l-2.73-.938a29.952 29.952.0 01-2.479 5.03h-4.75c-.786-1.962-1.677-3.641-2.672-5.03z"/></svg></a></div><div class="share-item qq"><a href="https://connect.qq.com/widget/shareqq/index.html?url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&title=%e5%95%83%e4%b8%80%e5%95%83SICP&summary=%e4%b8%ad%e6%96%87or%e5%8e%9f%e7%89%88?%20%e4%b8%ad%e6%96%87%e7%bf%bb%e8%af%91%e8%b4%a8%e9%87%8f%e4%b8%80%e8%88%ac,%20%e7%94%9a%e8%87%b3%e6%9c%89%e4%ba%9b%e7%bb%83%e4%b9%a0%e9%a2%98%e8%bf%9e%e9%a2%98%e5%b9%b2%e9%83%bd%e6%b2%a1%e7%bf%bb%e8%af%91%e5%85%a8,%20%e6%89%80%e4%bb%a5%e5%bb%ba%e8%ae%ae%e6%85%a2%e6%85%a2%e5%95%83%e5%8e%9f%e7%89%88%20%e8%bf%99%e2%80%a6%e2%80%a6&pics=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png&site=STAY%20REAL" title=分享到「QQ」 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qq-icon"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741.0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792.0.0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg></a></div><div class="share-item qzone"><a href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.ferstar.org/post/%E5%95%83%E4%B8%80%E5%95%83sicp/&title=%e5%95%83%e4%b8%80%e5%95%83SICP&summary=%e4%b8%ad%e6%96%87or%e5%8e%9f%e7%89%88?%20%e4%b8%ad%e6%96%87%e7%bf%bb%e8%af%91%e8%b4%a8%e9%87%8f%e4%b8%80%e8%88%ac,%20%e7%94%9a%e8%87%b3%e6%9c%89%e4%ba%9b%e7%bb%83%e4%b9%a0%e9%a2%98%e8%bf%9e%e9%a2%98%e5%b9%b2%e9%83%bd%e6%b2%a1%e7%bf%bb%e8%af%91%e5%85%a8,%20%e6%89%80%e4%bb%a5%e5%bb%ba%e8%ae%ae%e6%85%a2%e6%85%a2%e5%95%83%e5%8e%9f%e7%89%88%20%e8%bf%99%e2%80%a6%e2%80%a6&pics=https://blog-1253877569.cos.ap-chengdu.myqcloud.com/ext/png/2017/8/0dcfe8c59dfe42ca08ae8b2d945c9447.png&site=STAY%20REAL" title="分享到「QQ 空间」" target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon qzone-icon"><path d="M23.985 9.202c-.032-.099-.127-.223-.334-.258-.207-.036-7.351-1.406-7.351-1.406s-.105-.022-.198-.07c-.092-.047-.127-.167-.127-.167S12.447.956 12.349.77C12.25.583 12.104.532 12 .532s-.251.051-.349.238c-.098.186-3.626 6.531-3.626 6.531s-.035.12-.128.167c-.092.047-.197.07-.197.07S.556 8.908.348 8.943c-.208.036-.302.16-.333.258a.477.477.0 00.125.449l5.362 5.49s.072.08.119.172c.016.104.005.21.005.21s-1.189 7.242-1.22 7.45.075.369.159.43c.083.062.233.106.421.013.189-.093 6.812-3.261 6.812-3.261s.098-.044.201-.061.201.061.201.061 6.623 3.168 6.812 3.261c.188.094.338.049.421-.013a.463.463.0 00.159-.43c-.021-.14-.93-5.677-.93-5.677.876-.54 1.425-1.039 1.849-1.747-2.594.969-6.006 1.717-9.415 1.866-.915.041-2.41.097-3.473-.015-.678-.071-1.17-.144-1.243-.438-.053-.215.054-.46.545-.831a2640.5 2640.5.0 012.861-2.155c1.285-.968 3.559-2.47 3.559-2.731.0-.285-2.144-.781-4.037-.781-1.945.0-2.275.132-2.811.168-.488.034-.769.005-.804-.138-.06-.248.183-.389.588-.568.709-.314 1.86-.594 1.984-.626.194-.052 3.082-.805 5.618-.535 1.318.14 3.244.668 3.244 1.276.0.342-1.721 1.494-3.225 2.597-1.149.843-2.217 1.561-2.217 1.688.0.342 3.533 1.241 6.689 1.01l.003-.022c.048-.092.119-.172.119-.172l5.362-5.49a.477.477.0 00.127-.449z"/></svg></a></div><div class="share-item qrcode"><div class=qrcode-container title=通过「二维码」><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qrcode-icon"><path d="M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"/></svg><div id=qrcode-img></div></div><script src=https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js></script><script>var typeNumber=0;var errorCorrectionLevel='L';var qr=qrcode(typeNumber,errorCorrectionLevel);qr.addData('https:\/\/blog.ferstar.org\/post\/%E5%95%83%E4%B8%80%E5%95%83sicp\/');qr.make();document.getElementById('qrcode-img').innerHTML=qr.createImgTag();</script></div></div></div><div class=post-tags><a href=/tags/sicp/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>SICP</a>
<a href=/tags/lisp/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>LISP</a>
<a href=/tags/scheme/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>SCHEME</a>
<a href=/tags/sublime/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>SUBLIME</a></div><ul class=post-nav><li class=post-nav-prev><a href=/post/ssr%E8%A2%AB%E6%81%B6%E6%84%8F%E6%89%AB%E6%8F%8F%E6%97%B6%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B%E6%83%85/ rel=prev>&lt; SSR被恶意扫描时需要做的事情</a></li><li class=post-nav-next><a href=/post/%E5%9C%A8markdown%E4%B8%AD%E4%BC%98%E9%9B%85%E7%9A%84%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/ rel=next>在Markdown中优雅的插入图片 ></a></li></ul><div class=load-comments><div id=load-comments>加载评论</div></div><div id=utterances></div></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>©&nbsp;2013–2021&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3.0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;ferstar</div><div class=powered-by>Powered by <a href=https://github.com/gohugoio/hugo target=_blank rel=noopener>Hugo</a> | Theme is <a href=https://github.com/reuixiy/hugo-theme-meme target=_blank rel=noopener>MemE</a></div><div class=site-copyright><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a></div><ul class=socials><li class=socials-item><a href=/rss.xml target=_blank rel="external noopener" title=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon social-icon"><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></li><li class=socials-item><a href=mailto:zhangjianfei3@gmail.com target=_blank rel="external noopener" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon social-icon"><path d="M464 64H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 4e2V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V4e2H48z"/></svg></a></li><li class=socials-item><a href=https://github.com/ferstar target=_blank rel="external noopener" title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon social-icon"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li></ul></div></footer></div><script>function loadComments(){(function(){var utterances=document.getElementById("utterances");var script=document.createElement('script');script.src='https://utteranc.es/client.js';script.async=true;script.crossOrigin='anonymous';script.setAttribute('repo','ferstar\/ferstar.github.io');script.setAttribute('issue-term','pathname');const isDark=getCurrentTheme()==='dark';if(isDark){script.setAttribute('theme','photon-dark');}else{script.setAttribute('theme','github-light');}
utterances.appendChild(script);})();}</script><script src=https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js></script><script>mediumZoom(document.querySelectorAll('div.post-body img'),{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script><script src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js type=module defer></script></body></html>